@model List<core_23webc_gr6.Models.Product>
<!-- VqNam chinh sửa giao diện để load danh sách sản phẩm 7/10 -->
<!-- CHNhu -->
<div class="single-product-area">
	<div class="zigzag-bottom"></div>
	<div class="container">
		<div class="row">
			@* Lặp qua sản phẩm từ DB, mỗi sản phẩm một .col-md-3 như layout gốc *@
			@foreach (var item in Model)
			{
				<div class="col-md-3 col-sm-6">
					<div class="single-shop-product">
						<div class="product-upper">
							<img src="@Url.Content(item.Image ?? "~/assets/user/img/product-2.jpg")"
								alt="@item.ProductName" />
						</div>
						<h2>
							<a href="@Url.Action("Details", "Product", new { area = "User", id = item.ProductID })">
								@item.ProductName
							</a>
						</h2>
						<div class="product-carousel-price">
							<ins>@item.Price.ToString("N0") VNĐ</ins>
							@if (item.DiscountPercentage > 0 && item.DiscountPercentage < 100)
							{
								var oldPrice = item.Price / (1 - (item.DiscountPercentage / 100.0m));
								<del>@oldPrice.ToString("N0") VNĐ</del>
							}
						</div>

						<div class="product-option-shop">
							<a class="add_to_cart_button" data-quantity="1" data-product_sku=""
								data-product_id="@item.ProductID" rel="nofollow" href="#">Add to cart</a>
						</div>
					</div>
				</div>
			}
		</div>

</table>
		<!--endLTMKieu-->
		}
		<h2>Danh sách sản phẩm</h2>
		<table>
			<thead>
				<tr>
					<th>Mã sản phẩm</th>
					<th>Tên sản phẩm</th>
					<th>Giá</th>
					<th>Giá khuyến mãi</th>
					<th>Hình ảnh</th>
					<th>Mô tả</th>
					<th>Loại sản phẩm</th>
					<th>Chi tiết</th>
				</tr>
			</thead>
			@foreach (var product in Model)
			{
				<tr>
					<td>@product.ProductID</td>
					<td>@product.ProductName</td>
					<td>@product.CategoryID.ToString()</td>
					<td>@product.Price.ToString()</td>
					<td>@product.DiscountPercentage.ToString()</td>
					<td>@product.Stock.ToString()</td>
					<td>
						<img src="@product.Image" alt="@product.ProductName" width="100" />
					</td>
					<td>@product.Description</td>
					<td>@product.Status.ToString()</td>
					<td>@product.CreatedAt.ToString("yyyy-MM-dd")</td>
					<td>@product.UpdatedAt.ToString("yyyy-MM-dd")</td>
					<td>| <a asp-controller="Product" asp-action="Details" asp-route-id="@product.ProductID">Xem chi
							tiết</a></td>
				</tr>
				//PNSon thêm asp-area="area" để quay lại đúng area gọi đến
			}
		</table>





		<!--PNSon 8/10/2025 thêm CSS cho bảng-->
		<style>
			/* Định dạng bảng */
			table {
				width: 100%;
				border-collapse: collapse;
				margin: 20px 0;
				font-size: 14px;
				text-align: center;
				table-layout: auto;
			}

			/* Header */
			table thead th {
				background-color: #343a40;
				color: #fff;
				padding: 10px;
				border: 1px solid #ddd;
				white-space: nowrap;
			}

			/* Ô dữ liệu */
			table td {
				border: 1px solid #ddd;
				padding: 8px;
				vertical-align: middle;
				word-wrap: break-word;
				max-width: 250px;
			}

			/* Ảnh sản phẩm */
			table td img {
				display: block;
				margin: 0 auto;
				border-radius: 6px;
				width: 80px;
				height: auto;
				object-fit: cover;
				box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
			}

			/* Cột mô tả: cho phép xuống dòng và không bị tràn */
			table td:nth-child(8) {
				text-align: left;
				white-space: pre-wrap;
			}

			/* Cột giá, giá khuyến mãi, số lượng: canh giữa, đậm hơn 1 chút */
			table td:nth-child(4),
			table td:nth-child(5),
			table td:nth-child(6) {
				font-weight: 500;
				color: #212529;
			}

			/* Cột trạng thái: in đậm nếu cần */
			table td:nth-child(9) {
				font-weight: 600;
				color: #17a2b8;
			}

			/* Cột ngày tạo, ngày cập nhật: format nhỏ hơn 1 chút */
			table td:nth-child(10),
			table td:nth-child(11) {
				font-size: 13px;
				color: #6c757d;
			}

			/* Cột "Chi tiết": định dạng liên kết rõ hơn */
			table td:nth-child(12) a {
				color: #007bff;
				text-decoration: none;
				font-weight: 500;
			}

			table td:nth-child(12) a:hover {
				text-decoration: underline;
				color: #0056b3;
			}

			/* Tô màu xen kẽ */
			table tbody tr:nth-child(even) {
				background-color: #f8f9fa;
			}

			/* Hover */
			table tbody tr:hover {
				background-color: #e9ecef;
				transition: 0.2s;
			}
		</style>
